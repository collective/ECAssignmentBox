<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
                      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="eduComponents">
<body>
<metal:block fill-slot="css_slot">
  <link rel="stylesheet" type="text/css" href="ecabstyles.css"/>
</metal:block>

<metal:main fill-slot="main">
  <tal:main-macro metal:define-macro="main"
       tal:define="Iterator      python: modules['Products.Archetypes'].IndexIterator;
                   tabindex      python: Iterator();
                   auto_feedback here/auto_feedback|nothing;"
  >

    <div metal:use-macro="here/document_actions/macros/document_actions"/>
  
    <!-- print page title -->    
    <h1 class="documentFirstHeading"
      tal:content="python: here.getCreatorFullName() + ' - ' + here.aq_parent.title_or_id()" />

    <!-- print all relevant fields -->
    <div class="field">
      <span i18n:translate="label_datetime">Delivered at</span>
      <span tal:content="python: here.toPortalTime(here.getDatetime(), 1)"/>
    </div>

    <div class="field" tal:condition="here/source">
      <label for="source" i18n:translate="label_source">Source:</label>
      <pre id="source" tal:content="here/getSource"/>
    </div>

    <div tal:condition="not: here/source">
     <div class="field" tal:condition="here/file">
      <label for="source" i18n:translate="label_source">Source:</label>
      <p class="discreet" tal:content="here/file/getContentType"/>
      <pre id="source" tal:content="here/getAsPlainText"/>
     </div>
    </div>

    <div class="field" tal:condition="auto_feedback">
      <label for="auto_feedback" i18n:translate="label_auto_feedback">Auto-feedback:</label>
      <pre id="auto_feedback" tal:content="auto_feedback"/>
    </div>


    <tal:block tal:define="field_macro field_macro|here/widgets/field/macros/view;
                           mode string:view;
                           use_label python:1">
      <div tal:define="field python: here.getField('file')">
        <span metal:use-macro="field_macro"/>
      </div>
    </tal:block>

    <div class="field" tal:condition="here/getFeedback">
      <label for="feedback" i18n:translate="label_feedback">Feedback:</label>
      <div id="feedback" tal:content="structure here/getFeedback"/>
    </div>

    <div class="field" tal:condition="here/getMark">
      <span i18n:translate="msg_marked_with">Your assignment was graded:</span>
      <strong tal:content="here/getMark"/>
    </div>

    <div metal:use-macro="here/document_byline/macros/byline">
      Get the byline - contains details about author and modification date.
    </div>

  </tal:main-macro>
</metal:main>

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode:xml
sgml-local-catalogs:("/usr/local/lib/sgml/XHTML11.cat")
sgml-validate-command:"xmllint \\-\\-valid \\-\\-noout %s %s"
sgml-indent-step:1
sgml-indent-data:t
fill-column:79
End:
-->
