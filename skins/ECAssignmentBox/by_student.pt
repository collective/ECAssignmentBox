<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
                      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en"
 metal:use-macro="here/main_template/macros/master"
 i18n:domain="eduComponents">

 <body>
  <metal:block fill-slot="css_slot">
   <link rel="stylesheet" type="text/css" href="ecabstyles.css"/>
  </metal:block>

  <metal:main fill-slot="main">
   <tal:main-macro metal:define-macro="main">

    <div metal:use-macro="here/document_actions/macros/document_actions">
     Document actions (print, sendto, etc.)
    </div>
    
    <h1 class="documentFirstHeading"
     i18n:translate="label_submissions">Students</h1>

    <!--
    <div tal:define="items here/collect" tal:repeat="item items">
     <p tal:content="python: item + ': ' + str(items[item])"/>
    </div>
    -->

    <table class="listing">
     <thead>
      <tr>
       <th i18n:translate="label_user">User</th>
       <tal:block tal:define="items here/collect;"
	tal:repeat="state python: items['_wfstates']">
	<th tal:content="state"
	 tal:attributes="class python: 'state-' + putils.normalizeString(state)"/>
       </tal:block>
      </tr>
     </thead>

     <tbody tal:define="items here/collect;
      sorted_items python: sequence.sort(items);">
      <tal:block tal:repeat="student sorted_items">
       <tr tal:condition="python: not student.startswith('_')"
	   tal:define="oddrow repeat/student/odd;"
	   tal:attributes="class python: test(oddrow, 'odd', 'even')"
	>
	<td
	 tal:content="python: items[student][-1]"/>

       <tal:block
	tal:define="sums python: items[student]"
	tal:repeat="state python: sums[0:-1]">
	<td>
	 <span tal:content="state"/>
	 (<span tal:content="python: round(float(state)/items['_boxes'][0] * 100, 2)"/>&nbsp;%)</td>
       </tal:block> 
      </tr>

      </tal:block>
     </tbody>
    </table>
   </tal:main-macro>
  </metal:main>

 </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode:xml
sgml-local-catalogs:("/usr/local/lib/sgml/XHTML11.cat")
sgml-validate-command:"xmllint \\-\\-valid \\-\\-noout %s %s"
sgml-indent-step:1
sgml-indent-data:t
fill-column:79
End:
-->
